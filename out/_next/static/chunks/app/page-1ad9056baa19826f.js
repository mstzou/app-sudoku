(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3229:(e,t,r)=>{Promise.resolve().then(r.bind(r,7265))},7265:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var l=r(5155),n=r(2115);function a(e){let t=[...e];for(let e=t.length-1;e>0;e-=1){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}function o(e){return e.map(e=>[...e])}function s(e,t,r,l){for(let n=0;n<9;n+=1)if(e[t][n]===l||e[n][r]===l)return!1;let n=t-t%3,a=r-r%3;for(let t=0;t<3;t+=1)for(let r=0;r<3;r+=1)if(e[n+t][a+r]===l)return!1;return!0}function u(e){for(let t=0;t<9;t+=1)for(let r=0;r<9;r+=1)if(0===e[t][r])return[t,r];return null}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"easy",t=function e(){let t=Array.from({length:9},()=>Array(9).fill(0));for(let e=0;e<9;e+=3){let r=a([1,2,3,4,5,6,7,8,9]),l=0;for(let n=0;n<3;n+=1)for(let a=0;a<3;a+=1)t[e+n][e+a]=r[l],l+=1}let{solved:r,grid:l}=function(e){let t=o(e),r=()=>{let e=u(t);if(!e)return!0;let[l,n]=e;for(let e of a([1,2,3,4,5,6,7,8,9]))if(s(t,l,n,e)){if(t[l][n]=e,r())return!0;t[l][n]=0}return!1};return{solved:r(),grid:t}}(t);return r?l:e()}(),r=o(t),l=[];for(let e=0;e<9;e+=1)for(let t=0;t<9;t+=1)l.push([e,t]);let n=a(l),d=0,i=function(e){switch(e){case"easy":return 40;case"medium":return 50;case"hard":return 56;default:return 45}}(e);for(let[e,t]of n){if(d>=i)break;let l=r[e][t];if(0!==l){if(r[e][t]=0,1!==function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=o(e),l=0,n=()=>{if(l>=t)return;let e=u(r);if(!e){l+=1;return}let[a,o]=e;for(let e=1;e<=9;e+=1)if(s(r,a,o,e)&&(r[a][o]=e,n(),r[a][o]=0,l>=t))return};return n(),l}(r,2)){r[e][t]=l;continue}d+=1}}return{puzzle:r,solution:t}}function i(e){return e.flat().join("")}function c(e,t){return"".concat(e,",").concat(t)}function f(e){let{difficulty:t="easy"}=e,[{puzzle:r,solution:a},o]=(0,n.useState)(()=>d(t)),[u,f]=(0,n.useState)(()=>r.map(e=>[...e])),[m,g]=(0,n.useState)(null),[h,b]=(0,n.useState)({}),[p,x]=(0,n.useState)(!0),[k,y]=(0,n.useState)(!1),[v,w]=(0,n.useState)("Fill the board with numbers 1-9!"),N=(0,n.useRef)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("sudoku:last");if(e&&N.current)try{let t=JSON.parse(e),r=t.puzzle.match(/.{1,9}/g).map(e=>e.split("").map(e=>parseInt(e,10)||0)),l=t.solution.match(/.{1,9}/g).map(e=>e.split("").map(e=>parseInt(e,10)||0)),n=t.grid.match(/.{1,9}/g).map(e=>e.split("").map(e=>parseInt(e,10)||0));o({puzzle:r,solution:l}),f(n),x(t.mistakesOn),y(t.noteMode),w("Welcome back! Continue your game.")}catch(e){}N.current=!1},[]),(0,n.useEffect)(()=>{let e={grid:i(u),puzzle:i(r),solution:i(a),difficulty:t,mistakesOn:p,noteMode:k};localStorage.setItem("sudoku:last",JSON.stringify(e))},[u,r,a,t,p,k]);let j=(0,n.useMemo)(()=>{let e=new Set;for(let t=0;t<9;t+=1)for(let l=0;l<9;l+=1)0!==r[t][l]&&e.add(c(t,l));return e},[r]),S=(0,n.useMemo)(()=>{for(let e=0;e<9;e+=1)for(let t=0;t<9;t+=1)if(0===u[e][t])return!1;return!0},[u]);function C(e){let t=d(e);o(t),f(t.puzzle.map(e=>[...e])),b({}),g(null),w("New puzzle started. Have fun!")}function M(e){if(!m)return;let{row:t,col:r}=m;j.has(c(t,r))||f(l=>{let n=l.map(e=>[...e]);return k?b(l=>{var n;let a=c(t,r),o=new Set(null!=(n=l[a])?n:[]);return o.has(e)?o.delete(e):o.add(e),{...l,[a]:o}}):(n[t][r]=e,b(e=>{let l={...e};return delete l[c(t,r)],l})),n})}function z(){if(!m)return;let{row:e,col:t}=m;j.has(c(e,t))||(f(r=>{let l=r.map(e=>[...e]);return l[e][t]=0,l}),b(r=>{let l={...r};return delete l[c(e,t)],l}))}function O(){y(e=>!e)}return(0,n.useEffect)(()=>{S&&w(i(u)===i(a)?"Great job! You solved it!":"Not quite yet. There are mistakesâ€”keep trying!")},[S,u,a]),(0,l.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Sudoku Fun"}),(0,l.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:v}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 items-center",children:[(0,l.jsx)("div",{className:"grid grid-cols-9 grid-rows-9 bg-neutral-200 dark:bg-neutral-800 p-2 rounded-md",children:Array.from({length:9},(e,t)=>Array.from({length:9},(e,r)=>(function(e,t){let r=u[e][t],n=j.has(c(e,t)),a=m&&0!==u[m.row][m.col]&&u[m.row][m.col]===r,o=p&&0!==r?function(e,t,r,l){if(0===l)return[];let n=[];for(let[a,o]of function(e,t){let r=[];for(let l=0;l<9;l+=1)l!==t&&r.push([e,l]),l!==e&&r.push([l,t]);let l=e-e%3,n=t-t%3;for(let a=0;a<3;a+=1)for(let o=0;o<3;o+=1){let s=l+a,u=n+o;(s!==e||u!==t)&&r.push([s,u])}return Array.from(new Set(r.map(e=>{let[t,r]=e;return"".concat(t,",").concat(r)}))).map(e=>{let[t,r]=e.split(",").map(e=>parseInt(e,10));return[t,r]})}(t,r))e[a][o]===l&&n.push([a,o]);return n}(u,e,t,r):[];return(0,l.jsx)("button",{className:function(e,t){let r=(null==m?void 0:m.row)===e&&(null==m?void 0:m.col)===t,l=m&&(m.row===e||m.col===t),n=m&&Math.floor(m.row/3)===Math.floor(e/3)&&Math.floor(m.col/3)===Math.floor(t/3),a="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center border text-lg sm:text-xl font-medium select-none cursor-pointer transition-colors";return a+=" bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",r?a+=" bg-yellow-100 dark:bg-yellow-900/40":(l||n)&&(a+=" bg-yellow-50 dark:bg-yellow-900/20"),(2===t||5===t)&&(a+=" border-r-2"),(2===e||5===e)&&(a+=" border-b-2"),a}(e,t),onClick:()=>{g({row:e,col:t})},children:(0,l.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[0!==r?(0,l.jsx)("span",{className:n?" text-blue-700 dark:text-blue-400 font-bold":a?" text-emerald-700 dark:text-emerald-400":" text-neutral-800 dark:text-neutral-200",children:r}):(0,l.jsx)("div",{className:"grid grid-cols-3 grid-rows-3 gap-0.5 w-full h-full p-1 opacity-70",children:Array.from({length:9},(e,t)=>t+1).map(r=>{var n;return(0,l.jsx)("span",{className:"text-[10px] leading-3 text-neutral-500 dark:text-neutral-400 text-center",children:(null==(n=h[c(e,t)])?void 0:n.has(r))?r:""},r)})}),p&&o.length>0&&!n&&0!==r&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 text-[10px] text-red-600",children:"\xd7"})]})},c(e,t))})(t,r)))}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-full sm:w-auto",children:[(0,l.jsx)(function(){return(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[Array.from({length:9},(e,t)=>t+1).map(e=>(0,l.jsx)("button",{className:"rounded-md bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 px-4 py-2 text-lg",onClick:()=>M(e),children:e},e)),(0,l.jsx)("button",{className:"rounded-md bg-rose-100 dark:bg-rose-900/40 hover:bg-rose-200 dark:hover:bg-rose-900/60 px-4 py-2 text-lg col-span-2",onClick:z,children:"Erase"}),(0,l.jsxs)("button",{className:"rounded-md px-4 py-2 text-lg col-span-3 ".concat(k?"bg-amber-200 dark:bg-amber-800":"bg-amber-100 dark:bg-amber-900/40 hover:bg-amber-200 dark:hover:bg-amber-900/60"),onClick:O,children:["Notes ",k?"On":"Off"]})]})},{}),(0,l.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,l.jsx)("button",{className:"rounded-md bg-sky-100 dark:bg-sky-900/40 hover:bg-sky-200 dark:hover:bg-sky-900/60 px-4 py-2",onClick:()=>(function(){let e=function(e){for(let t=0;t<9;t+=1)for(let r=0;r<9;r+=1){if(0!==e[t][r])continue;let l=function(e,t,r){if(0!==e[t][r])return[];let l=[];for(let n=1;n<=9;n+=1)s(e,t,r,n)&&l.push(n);return l}(e,t,r);if(1===l.length)return{row:t,col:r,value:l[0]}}return null}(u);if(e){let{row:t,col:r,value:l}=e;g({row:t,col:r}),M(l),w("Hint used: a cell had only one choice.");return}e:for(let e=0;e<9;e+=1)for(let t=0;t<9;t+=1)if(0===u[e][t]){g({row:e,col:t}),M(a[e][t]),w("Hint used: revealed a number.");break e}})(),children:"Hint"}),(0,l.jsx)("button",{className:"rounded-md bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-900/60 px-4 py-2",onClick:()=>C("easy"),children:"New Easy"}),(0,l.jsx)("button",{className:"rounded-md bg-yellow-100 dark:bg-yellow-900/40 hover:bg-yellow-200 dark:hover:bg-yellow-900/60 px-4 py-2",onClick:()=>C("medium"),children:"New Medium"}),(0,l.jsx)("button",{className:"rounded-md bg-orange-100 dark:bg-orange-900/40 hover:bg-orange-200 dark:hover:bg-orange-900/60 px-4 py-2",onClick:()=>C("hard"),children:"New Hard"}),(0,l.jsxs)("button",{className:"rounded-md px-4 py-2 ".concat(p?"bg-red-200 dark:bg-red-800":"bg-red-100 dark:bg-red-900/40 hover:bg-red-200 dark:hover:bg-red-900/60"),onClick:function(){x(e=>!e)},children:["Mistakes ",p?"On":"Off"]})]})]})]}),(0,l.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Tip: Tap a cell, then tap a number. Turn on Notes to jot candidates!"})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=3229)),_N_E=e.O()}]);